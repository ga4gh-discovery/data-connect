<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet type=text/css href=../../../css/style.css><link rel=stylesheet type=text/css href=../../../css/page-layouts/content-header.css><link rel=stylesheet type=text/css href=../../../css/sidebar/style.css><link rel=stylesheet type=text/css href=../../../css/page-layouts/style.css><link rel=stylesheet type=text/css href=../../../css/page-layouts/syntax.css><link rel=stylesheet type=text/css href=../../../css/tabs/style.css><link rel=stylesheet type=text/css href=../../../css/bootstrap.min.css><link rel=stylesheet href=../../../override/style.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source Code Pro"><link rel=stylesheet href=../../../feather-icons/css/iconfont.css><link rel=icon href=../../../images/favicon.png type=image/x-icon><style>:root{--white: #ffffff;--primary: #fff;--secondary: #1E1F21;--sidebar-bg: #f6f6f8;--sidebar-primary: #1E1F21;--accent: #e34a3a;--grey100: ;--grey200: #F9F9FA;--grey300: ;--grey400: ;--grey500: ;--grey600: #969DAC;--grey700: ;--grey800: ;--grey900: ;--grey-head: #EFEFF3;--nav-highlight: }</style><title>GA4GH Discovery Search API | Consume Data</title></head><body><div class=sidebar id=sidebar-nav><button id=logo-collapse-btn onclick="(function(){document.getElementById('sidebar-nav').classList.toggle('show');document.getElementById('content').classList.toggle('showing-nav')})()">
<img id=logo src=../../../images/logo.png alt="GA4GH Discovery Search API"></button><div class="card sidebar-card"><div class=collapse-header><a class=nav-link href=../../../docs/getting-started/><i class="icon-layers navicon"></i><h3 class="sidebar-h1 mainitem">Quick Start</h3></a></div><div class="collapse show"><div class=nav-list><a class=nav-link href=../../../docs/getting-started/introduction/><h3 class="sidebar-h2 subitem">Introduction</h3></a><a class=nav-link href=../../../docs/getting-started/provision-data/><h3 class="sidebar-h2 subitem">Provision Data</h3></a><a class=nav-link href=../../../docs/getting-started/consume-data/><h3 class="sidebar-h2 nav-highlight subitem" id=scrollto>Consume Data</h3></a><a class=nav-link href=../../../docs/getting-started/upload-result/><h3 class="sidebar-h2 subitem">Upload results</h3></a></div></div><div class=collapse-header><a class=nav-link href=../../../docs/use-exisitng-data/><i class="icon-database navicon"></i><h3 class="sidebar-h1 mainitem">Use Existing Data</h3></a></div><div class=collapse><div class=nav-list><a class=nav-link href=../../../docs/use-exisitng-data/retrofit-a-data-explorer/doc/><h3 class="sidebar-h2 subitem">Retrofit data explorers</h3></a><a class=nav-link href=../../../docs/use-exisitng-data/tables-in-a-bucket/doc/><h3 class="sidebar-h2 subitem">Tables-in-a-bucket</h3></a><a class=nav-link href=../../../docs/use-exisitng-data/using-preso/doc/><h3 class="sidebar-h2 subitem">Using Presto</h3></a></div></div><div class=collapse-header><a class=nav-link href=../../../docs/security/><i class="icon-shield navicon"></i><h3 class="sidebar-h1 mainitem">Security</h3></a></div><div class=collapse><div class=nav-list><a class=nav-link href=../../../docs/security/data-source/><h3 class="sidebar-h2 subitem">At the data source</h3></a><a class=nav-link href=../../../docs/security/search-endpoint/><h3 class="sidebar-h2 subitem">At the search endpoint</h3></a></div></div><div class=collapse-header><a class=nav-link href=../../../docs/reference/><i class="icon-book navicon"></i><h3 class="sidebar-h1 mainitem">Implementation</h3></a></div><div class=collapse><div class=nav-list><a class=nav-link href=../../../docs/reference/pagination-long-queries/><h3 class="sidebar-h2 subitem">Pagination and Long Running Queries</h3></a><a class=nav-link href=../../../docs/reference/sql-functions/><h3 class="sidebar-h2 subitem">SQL Functions</h3></a><a class=nav-link href=../../../docs/reference/sql-grammar/><h3 class="sidebar-h2 subitem">SQL Grammar</h3></a></div></div></div></div><div class=content id=content><div class=content-header><div id=search-input-div><button class=search-button id=search-button data-toggle=modal data-target=#search-input-modal onclick=setFocusToTextBox()><h3 class=search-button-text><i class="icon-search search-icon"></i>Find anything</h3></button><div class="modal search" id=search-input-modal><div id=search-input-modal class=modal-dialog><div id=search-input-div class=modal-content><input id=search-input type=text placeholder name=search autocomplete=off>
<span class=focus-border></span><section id=search-results class=search></section></div></div></div></div><div class=content-header-nav><a class=content-header-nav-link href=../../../api><i class=icon-code></i><span>Open API 3 Reference</span></a>
<a class=content-header-nav-link href=https://github.com/ga4gh-discovery/ga4gh-search><i class=icon-github></i><span>Doc Source</span></a>
<a class=content-header-nav-link href=https://github.com/ga4gh-discovery/><i class=icon-github></i><span>Discovery Workstream</span></a></div></div><div class=text-area><h2>Consume Data</h2><div class=row><div class=content-area><p class=boxtext></p><h4 id=browsing>Browsing</h4><p>The minimum Search API implementations will support browsing by table. This means <a href=https://gewenyu99.github.io/ga4gh-search-docs/api/#tag/tables>these operations</a> from the API specs are supported for table by table browsing.</p><p>On the right is example code to browse <a href=../../../docs/getting-started/provision-data/#tables-in-a-bucket-example>the tables-in-a-bucket</a> implementation of Search.</p></div><div class=example-area><nav><div class="nav nav-tabs tabs-head" role=tablist><a class="nav-item nav-link content-tab active" id=nav-2 data-toggle=tab href=#tab21 role=tab aria-controls=nav-home aria-selected=true>Python</a>
<a class="nav-item nav-link content-tab" id=nav-2 data-toggle=tab href=#tab22 role=tab aria-controls=nav-home aria-selected=false>R</a>
<a class="nav-item nav-link content-tab" id=nav-2 data-toggle=tab href=#tab23 role=tab aria-controls=nav-home aria-selected=false>CLI</a></div></nav><div class="tab-content scroll" id=2><div class="tab-pane fade show active" id=tab21 role=tabpanel aria-labelledby=nav-tabName1><p><a href="https://colab.research.google.com/drive/1NytWLzQFWwGc3pqTaL0HD81S5B3zznLj?usp=sharing">Follow along in Colab</a></p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># init search client</span>
<span class=kn>from</span> <span class=nn>search_python_client.search</span> <span class=kn>import</span> <span class=n>DrsClient</span><span class=p>,</span> <span class=n>SearchClient</span>
<span class=n>base_url_tiab</span> <span class=o>=</span> <span class=s1>&#39;https://storage.googleapis.com/ga4gh-tables-example/&#39;</span>
<span class=n>search_client_tiab</span> <span class=o>=</span> <span class=n>SearchClient</span><span class=p>(</span><span class=n>base_url</span><span class=o>=</span><span class=n>base_url_tiab</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># get tables</span>
<span class=n>tables_iterator</span> <span class=o>=</span> <span class=n>search_client_tiab</span><span class=o>.</span><span class=n>get_table_list</span><span class=p>()</span>
<span class=n>tables</span> <span class=o>=</span> <span class=p>[</span><span class=nb>next</span><span class=p>(</span><span class=n>tables_iterator</span><span class=p>,</span> <span class=bp>None</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=n>tables</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>filter</span><span class=p>(</span><span class=bp>None</span><span class=p>,</span> <span class=n>tables</span><span class=p>))</span>
<span class=k>print</span><span class=p>(</span><span class=n>tables</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># get table info</span>
<span class=n>table_name</span> <span class=o>=</span> <span class=n>tables</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=s1>&#39;name&#39;</span><span class=p>]</span>
<span class=n>table_info</span> <span class=o>=</span> <span class=n>search_client_tiab</span><span class=o>.</span><span class=n>get_table_info</span><span class=p>(</span><span class=n>table_name</span><span class=p>)</span>
<span class=k>print</span><span class=p>(</span><span class=n>table_info</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># get table data</span>
<span class=n>table_name</span> <span class=o>=</span> <span class=n>tables</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=s1>&#39;name&#39;</span><span class=p>]</span>
<span class=n>table_data_iterator</span> <span class=o>=</span> <span class=n>search_client_tiab</span><span class=o>.</span><span class=n>get_table_data</span><span class=p>(</span><span class=n>table_name</span><span class=p>)</span>
<span class=n>table_data</span> <span class=o>=</span> <span class=p>[</span><span class=nb>next</span><span class=p>(</span><span class=n>table_data_iterator</span><span class=p>,</span> <span class=bp>None</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=n>table_data</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>filter</span><span class=p>(</span><span class=bp>None</span><span class=p>,</span> <span class=n>table_data</span><span class=p>))</span>
<span class=k>print</span><span class=p>(</span><span class=n>table_data</span><span class=p>)</span>
</code></pre></div></div><div class="tab-pane fade" id=tab22 role=tabpanel aria-labelledby=nav-tabName2><pre><code>Under construction
https://colab.research.google.com/drive/1VOP2IcPjsX4U-DfuiTs7Tr0SVlAD0IMh?usp=sharing &lt;= doesn't work right now.
</code></pre></div><div class="tab-pane fade" id=tab23 role=tabpanel aria-labelledby=nav-tabName3><p>Get list of tables</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>search-cli list --api-url https://storage.googleapis.com/ga4gh-tables-example
</code></pre></div><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>search-cli info subjects --api-url https://storage.googleapis.com/ga4gh-tables-example
</code></pre></div><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>search-cli data subjects --api-url https://storage.googleapis.com/ga4gh-tables-example
</code></pre></div></div></div></p><p></div></div><div class=row><div class=content-area><p class=boxtext></p><h4 id=queries>Queries</h4><p>The Search API supports query operation through SQL statements.</p><p>The GA4GH Search API&rsquo;s SQL dialect has a familiar interface inspired by current major open source database platforms, including Presto SQL, PostgreSQL, MySQL, and BigQuery. If you have prior experience with these database platforms, you&rsquo;ll feel right at home with only minor adjustments.</p><p><a href=https://github.com/ga4gh-discovery/ga4gh-search/blob/develop/SEARCHSPEC.md#sql-functions>Supported SQL functions</a></p><p><a href=https://github.com/ga4gh-discovery/ga4gh-search/blob/develop/SEARCHSPEC.md#appendix-a-sql-grammar>Supported SQL grammar</a></p><p></p></div><div class=example-area><div class=example><nav><div class="nav nav-tabs tabs-head" role=tablist><a class="nav-item nav-link content-tab active" id=nav-float data-toggle=tab href=#tabfloat1 role=tab aria-controls=nav-home aria-selected=true>Example #1</a>
<a class="nav-item nav-link content-tab" id=nav-float data-toggle=tab href=#tabfloat2 role=tab aria-controls=nav-home aria-selected=false>Example #2</a></div></nav><div class="tab-content scroll" id=float><div class="tab-pane fade show active" id=tabfloat1 role=tabpanel aria-labelledby=nav-tabName1><p>This query returns all female patients from the <code>patient</code> table.</p><div class=highlight><pre class=chroma><code class=language-SQL data-lang=SQL><span class=cm>/* you can scroll on this tab */</span>
<span class=k>SELECT</span> <span class=o>*</span> 
<span class=k>FROM</span>   <span class=n>kidsfirst</span><span class=p>.</span><span class=n>ga4gh_tables</span><span class=p>.</span><span class=n>patient</span> 
<span class=k>WHERE</span>  <span class=n>Json_extract_scalar</span><span class=p>(</span><span class=n>patient</span><span class=p>,</span> <span class=s1>&#39;$.gender&#39;</span><span class=p>)</span> <span class=o>=</span> <span class=s1>&#39;female&#39;</span> 
<span class=k>LIMIT</span>  <span class=mi>5</span><span class=p>;</span> 
</code></pre></div></div><div class="tab-pane fade" id=tabfloat2 role=tabpanel aria-labelledby=nav-tabName2><p>This query returns all conditions observed in female patients from the <code>patient</code> table.</p><div class=highlight><pre class=chroma><code class=language-SQL data-lang=SQL><span class=cm>/* you can scroll on this tab */</span>
<span class=k>SELECT</span> <span class=n>Json_extract_scalar</span><span class=p>(</span><span class=n>ncpi_disease</span><span class=p>,</span> <span class=s1>&#39;$.code.text&#39;</span><span class=p>)</span>           <span class=k>AS</span> <span class=n>disease</span><span class=p>,</span> 
       <span class=n>Json_extract_scalar</span><span class=p>(</span><span class=n>ncpi_disease</span><span class=p>,</span> <span class=s1>&#39;$.identifier[0].value&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>identifier</span> 
<span class=k>FROM</span>   <span class=n>kidsfirst</span><span class=p>.</span><span class=n>ga4gh_tables</span><span class=p>.</span><span class=n>ncpi_disease</span> <span class=n>disease</span> 
       <span class=k>INNER</span> <span class=k>JOIN</span> <span class=n>kidsfirst</span><span class=p>.</span><span class=n>ga4gh_tables</span><span class=p>.</span><span class=n>patient</span> <span class=n>patient</span> 
               <span class=k>ON</span> <span class=n>patient</span><span class=p>.</span><span class=n>id</span> <span class=o>=</span> <span class=k>REPLACE</span><span class=p>(</span><span class=n>Json_extract_scalar</span><span class=p>(</span><span class=n>ncpi_disease</span><span class=p>,</span> 
                                       <span class=s1>&#39;$.subject.reference&#39;</span><span class=p>),</span> 
                               <span class=s1>&#39;Patient/&#39;</span><span class=p>)</span> 
<span class=k>WHERE</span>  <span class=n>Json_extract_scalar</span><span class=p>(</span><span class=n>patient</span><span class=p>,</span> <span class=s1>&#39;$.gender&#39;</span><span class=p>)</span> <span class=o>=</span> <span class=s1>&#39;female&#39;</span> 
<span class=k>LIMIT</span>  <span class=mi>5</span><span class=p>;</span> 
</code></pre></div></div></div></div></p><p></div></div><div class=row><div class=content-area><p class=boxtext></p><h4 id=issuing-queries-using-the-search-api>Issuing queries using the Search API</h4><p>Search is a standard REST API. This means Search can be accessed through standard HTTP calls.</p><p>While Search API can be navigated using programs like cURL or Postman, it is best accessed programmatically. The results could return multiple pages, which is easier to navigate with programmatic access.</p><p>Once you&rsquo;ve visited a page and consumed data from it, you can&rsquo;t go back to it or refresh.</p><p>On the right, we provide examples to consume data from the Search API using the GA4GH Commandline Interface, the R client, Python, and cURL.</p><blockquote><p><a href=../../../../docs/getting-started/intro/doc/>Need help installing client libraries?</a></p></blockquote><p></p></div><div class=example-area><div class=example><nav><div class="nav nav-tabs tabs-head" role=tablist><a class="nav-item nav-link content-tab active" id=nav-queries data-toggle=tab href=#tabqueries1 role=tab aria-controls=nav-home aria-selected=true>Python</a>
<a class="nav-item nav-link content-tab" id=nav-queries data-toggle=tab href=#tabqueries2 role=tab aria-controls=nav-home aria-selected=false>R</a>
<a class="nav-item nav-link content-tab" id=nav-queries data-toggle=tab href=#tabqueries3 role=tab aria-controls=nav-home aria-selected=false>CLI</a>
<a class="nav-item nav-link content-tab" id=nav-queries data-toggle=tab href=#tabqueries4 role=tab aria-controls=nav-home aria-selected=false>cURL</a></div></nav><div class="tab-content scroll" id=queries><div class="tab-pane fade show active" id=tabqueries1 role=tabpanel aria-labelledby=nav-tabName1><p><a href="https://colab.research.google.com/drive/1efGB5O68_dtMgyqCeIjLG8ezMzDBBQj9?usp=sharing">Follow Along in Google Colab</a></p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=c1># Installing the client library form PyPi</span>
pip install search-python-client
<span class=c1># Installing from Github</span>
pip install git+https://github.com/DNAstack/search-python-client --no-cache-dir
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Building the query</span>
<span class=kn>from</span> <span class=nn>search_python_client.search</span> <span class=kn>import</span> <span class=n>DrsClient</span><span class=p>,</span> <span class=n>SearchClient</span>
<span class=n>base_url</span> <span class=o>=</span> <span class=s1>&#39;https://search-presto-public.staging.dnastack.com&#39;</span>
<span class=n>search_client</span> <span class=o>=</span> <span class=n>SearchClient</span><span class=p>(</span><span class=n>base_url</span><span class=o>=</span><span class=n>base_url</span><span class=p>)</span>
<span class=n>query</span> <span class=o>=</span> <span class=s2>&#34;&#34;&#34;
</span><span class=s2>SELECT Json_extract_scalar(ncpi_disease, &#39;$.code.text&#39;)           AS disease, 
</span><span class=s2>       Json_extract_scalar(ncpi_disease, &#39;$.identifier[0].value&#39;) AS identifier 
</span><span class=s2>FROM   kidsfirst.ga4gh_tables.ncpi_disease disease 
</span><span class=s2>       INNER JOIN kidsfirst.ga4gh_tables.patient patient 
</span><span class=s2>               ON patient.id = REPLACE(Json_extract_scalar(ncpi_disease, 
</span><span class=s2>                                       &#39;$.subject.reference&#39;), 
</span><span class=s2>                               &#39;Patient/&#39;) 
</span><span class=s2>WHERE  Json_extract_scalar(patient, &#39;$.gender&#39;) = &#39;female&#39; 
</span><span class=s2>LIMIT  5 
</span><span class=s2>&#34;&#34;&#34;</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Executing the query</span>
<span class=n>table_data_iterator</span> <span class=o>=</span> <span class=n>search_client</span><span class=o>.</span><span class=n>search_table</span><span class=p>(</span><span class=n>query</span><span class=p>)</span>
<span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>table_data_iterator</span><span class=p>:</span>
  <span class=k>print</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Results</span>
<span class=p>{</span><span class=s1>&#39;disease&#39;</span><span class=p>:</span> <span class=s1>&#39;Aortic atresia&#39;</span><span class=p>,</span> <span class=s1>&#39;identifier&#39;</span><span class=p>:</span> <span class=s1>&#39;Condition|SD_PREASA7S|272|Aortic atresia|None&#39;</span><span class=p>}</span>
<span class=p>{</span><span class=s1>&#39;disease&#39;</span><span class=p>:</span> <span class=s1>&#39;Mitral atresia&#39;</span><span class=p>,</span> <span class=s1>&#39;identifier&#39;</span><span class=p>:</span> <span class=s1>&#39;Condition|SD_PREASA7S|272|Mitral atresia|None&#39;</span><span class=p>}</span>
<span class=p>{</span><span class=s1>&#39;disease&#39;</span><span class=p>:</span> <span class=s1>&#39;Hypoplasia ascending aorta&#39;</span><span class=p>,</span> <span class=s1>&#39;identifier&#39;</span><span class=p>:</span> <span class=s1>&#39;Condition|SD_PREASA7S|272|Hypoplasia ascending aorta|None&#39;</span><span class=p>}</span>
<span class=p>{</span><span class=s1>&#39;disease&#39;</span><span class=p>:</span> <span class=s1>&#39;Hypoplastic left heart syndrome&#39;</span><span class=p>,</span> <span class=s1>&#39;identifier&#39;</span><span class=p>:</span> <span class=s1>&#39;Condition|SD_PREASA7S|272|Hypoplastic left heart syndrome|None&#39;</span><span class=p>}</span>
<span class=p>{</span><span class=s1>&#39;disease&#39;</span><span class=p>:</span> <span class=s1>&#39;Hypoplastic left ventricle (subnormal cavity volume)&#39;</span><span class=p>,</span> <span class=s1>&#39;identifier&#39;</span><span class=p>:</span> <span class=s1>&#39;Condition|SD_PREASA7S|272|Hypoplastic left ventricle (subnormal cavity volume)|None&#39;</span><span class=p>}</span>
</code></pre></div></div><div class="tab-pane fade" id=tabqueries2 role=tabpanel aria-labelledby=nav-tabName2><p><a href="https://colab.research.google.com/drive/1Y6r1772AW-FWZ1OrOutNoDOvca8Osz3z?usp=sharing">Follow Along in Google Colab</a></p><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># installing devtools</span>
<span class=nf>dir.create</span><span class=p>(</span><span class=n>path</span> <span class=o>=</span> <span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;R_LIBS_USER&#34;</span><span class=p>),</span> <span class=n>showWarnings</span> <span class=o>=</span> <span class=kc>FALSE</span><span class=p>,</span> <span class=n>recursive</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span>
<span class=nf>install.packages</span><span class=p>(</span><span class=s>&#34;devtools&#34;</span><span class=p>,</span> <span class=n>lib</span> <span class=o>=</span> <span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;R_LIBS_USER&#34;</span><span class=p>),</span> <span class=n>repos</span> <span class=o>=</span> <span class=s>&#34;https://cran.rstudio.com/&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># installing the R client</span>
<span class=n>devtools</span><span class=o>::</span><span class=nf>install_github</span><span class=p>(</span><span class=s>&#34;DNAstack/ga4gh-search-client-r&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># Making the request</span>
<span class=nf>library</span><span class=p>(</span><span class=n>httr</span><span class=p>)</span>
<span class=n>conditionsInFemalePatients</span> <span class=o>&lt;-</span> <span class=n>ga4gh.search</span><span class=o>::</span><span class=nf>ga4gh_search</span><span class=p>(</span><span class=s>&#34;https://search-presto-public.staging.dnastack.com&#34;</span><span class=p>,</span> <span class=s>&#34;select json_extract_scalar(ncpi_disease, &#39;$.code.text&#39;) as disease, json_extract_scalar(ncpi_disease, &#39;$.identifier[0].value&#39;) as identifier from kidsfirst.ga4gh_tables.ncpi_disease disease INNER JOIN kidsfirst.ga4gh_tables.patient patient ON patient.id=replace(json_extract_scalar(ncpi_disease, &#39;$.subject.reference&#39;), &#39;Patient/&#39;) WHERE json_extract_scalar(patient, &#39;$.gender&#39;)=&#39;female&#39; limit 5&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># View the results</span>
<span class=nf>print</span><span class=p>(</span><span class=n>conditionsInFemalePatients</span><span class=p>)</span>
</code></pre></div><p>Output:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>                                               disease
<span class=m>1</span>                                       Aortic atresia
<span class=m>2</span>                                       Mitral atresia
<span class=m>3</span>                           Hypoplasia ascending aorta
<span class=m>4</span>                      Hypoplastic left heart syndrome
<span class=m>5</span> Hypoplastic left ventricle <span class=o>(</span>subnormal cavity volume<span class=o>)</span>
                                                                           identifier
<span class=m>1</span>                                       Condition<span class=p>|</span>SD_PREASA7S<span class=p>|</span>272<span class=p>|</span>Aortic atresia<span class=p>|</span>None
<span class=m>2</span>                                       Condition<span class=p>|</span>SD_PREASA7S<span class=p>|</span>272<span class=p>|</span>Mitral atresia<span class=p>|</span>None
<span class=m>3</span>                           Condition<span class=p>|</span>SD_PREASA7S<span class=p>|</span>272<span class=p>|</span>Hypoplasia ascending aorta<span class=p>|</span>None
<span class=m>4</span>                      Condition<span class=p>|</span>SD_PREASA7S<span class=p>|</span>272<span class=p>|</span>Hypoplastic left heart syndrome<span class=p>|</span>None
<span class=m>5</span> Condition<span class=p>|</span>SD_PREASA7S<span class=p>|</span>272<span class=p>|</span>Hypoplastic left ventricle <span class=o>(</span>subnormal cavity volume<span class=o>)</span><span class=p>|</span>None
</code></pre></div></div><div class="tab-pane fade" id=tabqueries3 role=tabpanel aria-labelledby=nav-tabName3><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>search-cli query -q <span class=s2>&#34;select json_extract_scalar(ncpi_disease, &#39;</span>$<span class=s2>.code.text&#39;) as disease, json_extract_scalar(ncpi_disease, &#39;</span>$<span class=s2>.identifier[0].value&#39;) as identifier from kidsfirst.ga4gh_tables.ncpi_disease disease INNER JOIN kidsfirst.ga4gh_tables.patient patient ON patient.id=replace(json_extract_scalar(ncpi_disease, &#39;</span>$<span class=s2>.subject.reference&#39;), &#39;Patient/&#39;) WHERE json_extract_scalar(patient, &#39;</span>$<span class=s2>.gender&#39;)=&#39;female&#39; limit 5&#34;</span> --api-url https://search-presto-public.staging.dnastack.com
</code></pre></div></div><div class="tab-pane fade" id=tabqueries4 role=tabpanel aria-labelledby=nav-tabName4><p>These requests
This query returns all female patients from the <code>patient</code> table.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>curl --request POST <span class=se>\
</span><span class=se></span>  --url https://search-presto-public.staging.dnastack.com/search <span class=se>\
</span><span class=se></span>  --header <span class=s1>&#39;content-type: application/json&#39;</span> <span class=se>\
</span><span class=se></span>  --data <span class=s1>&#39;{ &#34;query&#34;: &#34;select * from kidsfirst.ga4gh_tables.patient WHERE json_extract_scalar(patient, &#39;</span><span class=se>\&#39;</span><span class=s1>&#39;$.gender&#39;</span><span class=se>\&#39;</span><span class=s1>&#39;)=&#39;</span><span class=se>\&#39;</span><span class=s1>&#39;female&#39;</span><span class=se>\&#39;</span><span class=s1>&#39; limit 5&#34;}&#39;</span>
</code></pre></div><p>This query returns all conditions observed in female patients from the <code>patient</code> table.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>curl --request POST <span class=se>\
</span><span class=se></span>  --url https://search-presto-public.staging.dnastack.com/search <span class=se>\
</span><span class=se></span>  --header <span class=s1>&#39;content-type: application/json&#39;</span> <span class=se>\
</span><span class=se></span>  --data <span class=s1>&#39;{ &#34;query&#34;: &#34;select json_extract_scalar(ncpi_disease, &#39;</span><span class=se>\&#39;</span><span class=s1>&#39;$.code.text&#39;</span><span class=se>\&#39;</span><span class=s1>&#39;) as disease, json_extract_scalar(ncpi_disease, &#39;</span><span class=se>\&#39;</span><span class=s1>&#39;$.identifier[0].value&#39;</span><span class=se>\&#39;</span><span class=s1>&#39;) as identifier from kidsfirst.ga4gh_tables.ncpi_disease disease INNER JOIN kidsfirst.ga4gh_tables.patient patient ON patient.id=replace(json_extract_scalar(ncpi_disease, &#39;</span><span class=se>\&#39;</span><span class=s1>&#39;$.subject.reference&#39;</span><span class=se>\&#39;</span><span class=s1>&#39;), &#39;</span><span class=se>\&#39;</span><span class=s1>&#39;Patient/&#39;</span><span class=se>\&#39;</span><span class=s1>&#39;) WHERE json_extract_scalar(patient, &#39;</span><span class=se>\&#39;</span><span class=s1>&#39;$.gender&#39;</span><span class=se>\&#39;</span><span class=s1>&#39;)=&#39;</span><span class=se>\&#39;</span><span class=s1>&#39;female&#39;</span><span class=se>\&#39;</span><span class=s1>&#39; limit 5&#34;}&#39;</span>
</code></pre></div></div></div></div></p><p></div></div><div class=row><div class=content-area><p class=boxtext></p><h2 id=more-examples>More Examples</h2><h4 id=dbgap-gecco-example>dbGaP GECCO Example</h4><p>This is a public implementation of Search. Feel free to follow along with the examples and explore this endpoint with your own script.<nav><div class="nav nav-tabs tabs-head" role=tablist><a class="nav-item nav-link content-tab active" id=nav-3 data-toggle=tab href=#tab31 role=tab aria-controls=nav-home aria-selected=true>Python</a>
<a class="nav-item nav-link content-tab" id=nav-3 data-toggle=tab href=#tab32 role=tab aria-controls=nav-home aria-selected=false>R</a>
<a class="nav-item nav-link content-tab" id=nav-3 data-toggle=tab href=#tab33 role=tab aria-controls=nav-home aria-selected=false>CLI</a></div></nav><div class="tab-content scroll" id=3><div class="tab-pane fade show active" id=tab31 role=tabpanel aria-labelledby=nav-tabName1><p><a href="https://colab.research.google.com/drive/1f_BZibUx3nWdaJXkgcoW5WqwxnLDgzzY?usp=sharing">Follow along in Colab</a></p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># init search client</span>
<span class=kn>from</span> <span class=nn>search_python_client.search</span> <span class=kn>import</span> <span class=n>DrsClient</span><span class=p>,</span> <span class=n>SearchClient</span>
<span class=n>base_url</span> <span class=o>=</span> <span class=s1>&#39;https://search-presto-public.prod.dnastack.com/&#39;</span>
<span class=n>search_client</span> <span class=o>=</span> <span class=n>SearchClient</span><span class=p>(</span><span class=n>base_url</span><span class=o>=</span><span class=n>base_url</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Find available tables</span>
<span class=n>tables_iterator</span> <span class=o>=</span> <span class=n>search_client</span><span class=o>.</span><span class=n>get_table_list</span><span class=p>()</span>
<span class=n>tables</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>tables_iterator</span><span class=p>)</span>
<span class=kn>import</span> <span class=nn>pprint</span>
<span class=n>pprint</span><span class=o>.</span><span class=n>pprint</span><span class=p>(</span><span class=n>tables</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1>#Get more information about a table returned</span>
<span class=n>table_info</span> <span class=o>=</span> <span class=n>search_client</span><span class=o>.</span><span class=n>get_table_info</span><span class=p>(</span><span class=s2>&#34;dbgap_demo.scr_gecco_susceptibility.subject_phenotypes_multi&#34;</span><span class=p>)</span>
<span class=n>pprint</span><span class=o>.</span><span class=n>pprint</span><span class=p>(</span><span class=n>table_info</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Dig into the table a little further</span>
<span class=n>table_data_iterator</span> <span class=o>=</span> <span class=n>search_client</span><span class=o>.</span><span class=n>get_table_data</span><span class=p>(</span><span class=s2>&#34;dbgap_demo.scr_gecco_susceptibility.subject_phenotypes_multi&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Limit to first 10 items</span>
<span class=n>tables</span> <span class=o>=</span> <span class=p>[</span><span class=nb>next</span><span class=p>(</span><span class=n>table_data_iterator</span><span class=p>,</span> <span class=bp>None</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=n>tables</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>filter</span><span class=p>(</span><span class=bp>None</span><span class=p>,</span> <span class=n>tables</span><span class=p>))</span>
<span class=n>pprint</span><span class=o>.</span><span class=n>pprint</span><span class=p>(</span><span class=n>tables</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Select all items from the CPS-II study </span>
<span class=n>query</span> <span class=o>=</span> <span class=s2>&#34;&#34;&#34;
</span><span class=s2>SELECT * 
</span><span class=s2>FROM   dbgap_demo.scr_gecco_susceptibility.subject_phenotypes_multi
</span><span class=s2>WHERE  study = &#39;CPS-II&#39; 
</span><span class=s2>LIMIT  5 
</span><span class=s2>&#34;&#34;&#34;</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Executing the query</span>
<span class=n>table_data_iterator</span> <span class=o>=</span> <span class=n>search_client</span><span class=o>.</span><span class=n>search_table</span><span class=p>(</span><span class=n>query</span><span class=p>)</span>
<span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>table_data_iterator</span><span class=p>:</span>
  <span class=k>print</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</code></pre></div></div><div class="tab-pane fade" id=tab32 role=tabpanel aria-labelledby=nav-tabName2><p><a href="https://colab.research.google.com/drive/1X7EZ71v29iFnxbHjsc-9_0Om41xEw32m?usp=sharing">Follow along in Colab</a></p><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># installing devtools</span>
<span class=nf>dir.create</span><span class=p>(</span><span class=n>path</span> <span class=o>=</span> <span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;R_LIBS_USER&#34;</span><span class=p>),</span> <span class=n>showWarnings</span> <span class=o>=</span> <span class=kc>FALSE</span><span class=p>,</span> <span class=n>recursive</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span>
<span class=nf>install.packages</span><span class=p>(</span><span class=s>&#34;devtools&#34;</span><span class=p>,</span> <span class=n>lib</span> <span class=o>=</span> <span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;R_LIBS_USER&#34;</span><span class=p>),</span> <span class=n>repos</span> <span class=o>=</span> <span class=s>&#34;https://cran.rstudio.com/&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># installing the R client</span>
<span class=n>devtools</span><span class=o>::</span><span class=nf>install_github</span><span class=p>(</span><span class=s>&#34;DNAstack/ga4gh-search-client-r&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># Making the request</span>
<span class=nf>library</span><span class=p>(</span><span class=n>httr</span><span class=p>)</span>
<span class=n>ga4gh.search</span><span class=o>::</span><span class=nf>ga4gh_list_tables</span><span class=p>(</span><span class=s>&#34;https://search-presto-public.prod.dnastack.com&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># Select all items from the CPS-II study </span>
<span class=n>query</span> <span class=o>&lt;-</span> <span class=s>&#34;SELECT * FROM dbgap_demo.scr_gecco_susceptibility.subject_phenotypes_multi WHERE study = &#39;CPS-II&#39; LIMIT 5&#34;</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># Executing the query</span>
<span class=n>ga4gh.search</span><span class=o>::</span><span class=nf>ga4gh_search</span><span class=p>(</span><span class=s>&#34;https://search-presto-public.prod.dnastack.com&#34;</span><span class=p>,</span> <span class=n>query</span><span class=p>)</span>
</code></pre></div></div><div class="tab-pane fade" id=tab33 role=tabpanel aria-labelledby=nav-tabName3><p>List tables</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>search-cli list --api-url <span class=s2>&#34;https://search-presto-public.prod.dnastack.com&#34;</span> 
</code></pre></div><p>Get table info</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>search-cli info dbgap_demo.scr_gecco_susceptibility.subject_phenotypes_multi --api-url <span class=s2>&#34;https://search-presto-public.prod.dnastack.com&#34;</span> 
</code></pre></div><p>Now run a query and pipe the results to a file called <code>results.txt</code></p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>search-cli query -q <span class=s2>&#34;SELECT * FROM dbgap_demo.scr_gecco_susceptibility.subject_phenotypes_multi WHERE study = &#39;CPS-II&#39; LIMIT 5&#34;</span> <span class=se>\
</span><span class=se></span>  --api-url <span class=s2>&#34;https://search-presto-public.prod.dnastack.com&#34;</span> &gt; results.txt
</code></pre></div></div></div></p><p></p></div><div class=example-area></p><h1 id=heading></h1><h5 id=covid-cloud-example>COVID Cloud Example</h5><p>This is a public implementation of Search. It is connected to multiple sources of data related to COVID19, such as data from <a href=https://usafacts.org/issues/coronavirus/>USA Facts</a> used in this example.<nav><div class="nav nav-tabs tabs-head" role=tablist><a class="nav-item nav-link content-tab active" id=nav-4 data-toggle=tab href=#tab41 role=tab aria-controls=nav-home aria-selected=true>Python</a>
<a class="nav-item nav-link content-tab" id=nav-4 data-toggle=tab href=#tab42 role=tab aria-controls=nav-home aria-selected=false>R</a>
<a class="nav-item nav-link content-tab" id=nav-4 data-toggle=tab href=#tab43 role=tab aria-controls=nav-home aria-selected=false>CLI</a></div></nav><div class="tab-content scroll" id=4><div class="tab-pane fade show active" id=tab41 role=tabpanel aria-labelledby=nav-tabName1><p><a href="https://colab.research.google.com/drive/1hnHTqquYP2HjUF0dDHn8FKiO9f7t0yGO?usp=sharing">Follow along in Colab</a></p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>from</span> <span class=nn>search_python_client.search</span> <span class=kn>import</span> <span class=n>DrsClient</span><span class=p>,</span> <span class=n>SearchClient</span>
<span class=n>base_url</span> <span class=o>=</span> <span class=s1>&#39;https://search-presto-public-covid19.prod.dnastack.com/&#39;</span>
<span class=n>search_client</span> <span class=o>=</span> <span class=n>SearchClient</span><span class=p>(</span><span class=n>base_url</span><span class=o>=</span><span class=n>base_url</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Find available tables</span>
<span class=n>tables_iterator</span> <span class=o>=</span> <span class=n>search_client</span><span class=o>.</span><span class=n>get_table_list</span><span class=p>()</span>
<span class=n>tables</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>tables_iterator</span><span class=p>)</span>
<span class=kn>import</span> <span class=nn>pprint</span>
<span class=n>pprint</span><span class=o>.</span><span class=n>pprint</span><span class=p>(</span><span class=n>tables</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1>#Get more information about a table returned</span>
<span class=n>table_info</span> <span class=o>=</span> <span class=n>search_client</span><span class=o>.</span><span class=n>get_table_info</span><span class=p>(</span><span class=s2>&#34;coronavirus_public.covid19_usafacts.deaths&#34;</span><span class=p>)</span>
<span class=n>pprint</span><span class=o>.</span><span class=n>pprint</span><span class=p>(</span><span class=n>table_info</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Dig into the table a little further</span>
<span class=n>table_data_iterator</span> <span class=o>=</span> <span class=n>search_client</span><span class=o>.</span><span class=n>get_table_data</span><span class=p>(</span><span class=s2>&#34;coronavirus_public.covid19_usafacts.deaths&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Limit to first 10 items</span>
<span class=n>tables</span> <span class=o>=</span> <span class=p>[</span><span class=nb>next</span><span class=p>(</span><span class=n>table_data_iterator</span><span class=p>,</span> <span class=bp>None</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=n>tables</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>filter</span><span class=p>(</span><span class=bp>None</span><span class=p>,</span> <span class=n>tables</span><span class=p>))</span>
<span class=n>pprint</span><span class=o>.</span><span class=n>pprint</span><span class=p>(</span><span class=n>tables</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Select all corona death cases from the state of LA, limited to 25 results and sorted by county name.</span>
<span class=n>query</span> <span class=o>=</span> <span class=s2>&#34;&#34;&#34;
</span><span class=s2>SELECT * 
</span><span class=s2>FROM coronavirus_public.covid19_usafacts.deaths
</span><span class=s2>WHERE state = &#39;LA&#39;
</span><span class=s2>ORDER BY county_name
</span><span class=s2>LIMIT 25
</span><span class=s2>&#34;&#34;&#34;</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># Executing the query</span>
<span class=n>table_data_iterator</span> <span class=o>=</span> <span class=n>search_client</span><span class=o>.</span><span class=n>search_table</span><span class=p>(</span><span class=n>query</span><span class=p>)</span>
<span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>table_data_iterator</span><span class=p>:</span>
  <span class=k>print</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</code></pre></div></div><div class="tab-pane fade" id=tab42 role=tabpanel aria-labelledby=nav-tabName2><p><a href="https://colab.research.google.com/drive/1FCpiUIHSOS-qewaw5efF8T_SipR5DSZR?usp=sharing">Follow along in Colab</a></p><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># installing devtools</span>
<span class=nf>dir.create</span><span class=p>(</span><span class=n>path</span> <span class=o>=</span> <span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;R_LIBS_USER&#34;</span><span class=p>),</span> <span class=n>showWarnings</span> <span class=o>=</span> <span class=kc>FALSE</span><span class=p>,</span> <span class=n>recursive</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span>
<span class=nf>install.packages</span><span class=p>(</span><span class=s>&#34;devtools&#34;</span><span class=p>,</span> <span class=n>lib</span> <span class=o>=</span> <span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;R_LIBS_USER&#34;</span><span class=p>),</span> <span class=n>repos</span> <span class=o>=</span> <span class=s>&#34;https://cran.rstudio.com/&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># installing the R client</span>
<span class=n>devtools</span><span class=o>::</span><span class=nf>install_github</span><span class=p>(</span><span class=s>&#34;DNAstack/ga4gh-search-client-r&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># Making the request</span>
<span class=nf>library</span><span class=p>(</span><span class=n>httr</span><span class=p>)</span>
<span class=n>ga4gh.search</span><span class=o>::</span><span class=nf>ga4gh_list_tables</span><span class=p>(</span><span class=s>&#34;https://search-presto-public-covid19.prod.dnastack.com&#34;</span><span class=p>)</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># Select all COVID death cases from the state of LA, limited to 25 results and sorted by county name.</span>
<span class=n>query</span> <span class=o>&lt;-</span> <span class=s>&#34;SELECT * FROM coronavirus_public.covid19_usafacts.deaths WHERE state = &#39;LA&#39; ORDER BY county_name LIMIT 25&#34;</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-R data-lang=R><span class=c1># Executing the query</span>
<span class=n>ga4gh.search</span><span class=o>::</span><span class=nf>ga4gh_search</span><span class=p>(</span><span class=s>&#34;https://search-presto-public-covid19.prod.dnastack.com&#34;</span><span class=p>,</span> <span class=n>query</span><span class=p>)</span>

</code></pre></div></div><div class="tab-pane fade" id=tab43 role=tabpanel aria-labelledby=nav-tabName3><p>List tables</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>search-cli list --api-url <span class=s2>&#34;https://search-presto-public-covid19.prod.dnastack.com&#34;</span> 
</code></pre></div><p>Get table info</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>search-cli info coronavirus_public.covid19_usafacts.deaths --api-url <span class=s2>&#34;https://search-presto-public-covid19.prod.dnastack.com&#34;</span> 
</code></pre></div><p>Now run a query and pipe the results to a file called <code>results.txt</code></p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>search-cli query -q <span class=s2>&#34;SELECT * FROM coronavirus_public.covid19_usafacts.deaths WHERE state = &#39;LA&#39; ORDER BY county_name LIMIT 25&#34;</span> <span class=se>\
</span><span class=se></span>  --api-url <span class=s2>&#34;https://search-presto-public-covid19.prod.dnastack.com&#34;</span> &gt; results.txt
</code></pre></div></div></div></p></div></div></div></div><script src=../../../js/jquery-3.5.1.min.js></script><script src=../../../js/bootstrap.min.js></script><script src=https://unpkg.com/lunr/lunr.js></script><script>document.getElementById("scrollto").scrollIntoView(true);</script><script type=text/javascript>var idx,searchInput,searchResults=null
var documents=[]
function renderSearchResults(results){if(results.length>0){if(results.length>9){results=results.slice(0,10)}
searchResults.innerHTML=''
results.forEach(result=>{var article=document.createElement('article')
var uri="/ga4gh-search-docs"+result.ref.replace("/index.json","")
article.innerHTML=`
            <a href="${uri}" class="search-result-item"><p class="search-result-title">${documents[result.ref].title}</p> <i class="icon-external-link"></i></a>
            `
searchResults.appendChild(article)})}else{searchResults.innerHTML='<p>No results found.</p>'}}
function registerSearchHandler(){searchInput.oninput=function(event){if(searchInput.value==''){searchResults.innerHTML=''}else{var query=event.target.value
var results=idx.search(query+'*')
renderSearchResults(results)}}
searchInput.focus()
searchInput.placeholder=''}
$('#search-input-modal').on('shown.bs.modal',function(){$('#search-input').trigger('focus')})
window.onload=function(){searchInput=document.getElementById('search-input')
searchResults=document.getElementById('search-results')
fetch('/ga4gh-search-docs/docs/index.json',{method:'get'}).then(res=>res.json()).then(res=>{idx=lunr(function(){this.ref('url')
this.field('title')
this.field('content')
res.forEach(function(doc){this.add(doc)
documents[doc.url]={'title':doc.title,'content':doc.content,}},this)})
registerSearchHandler()}).catch(err=>{searchResults.innerHTML=`<p>${err}</p>`})}</script></body></html>